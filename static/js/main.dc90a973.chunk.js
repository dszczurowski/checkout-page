(this["webpackJsonpcheckout-page"]=this["webpackJsonpcheckout-page"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/product.5d2b8b6a.png"},function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),u=a.n(r),l=(a(14),a(1)),o=a(3),i=a.n(o),s=a(5),m=a(2),p=(a(16),function(e){var t=e.confirmText,a=e.onClose,n=e.showModal,r=e.text;return n?c.a.createElement("div",{className:"modal"},r,c.a.createElement("button",{className:"confirm-btn",onClick:a},t)):null}),f=(a(17),function(e){var t=e.data;return c.a.createElement("li",null,t.firstName," ",t.lastName," (",t.country,")",c.a.createElement("p",null,"Ordered time: ",new Date(t.createdAt).toLocaleString()),c.a.createElement("p",null,"Units: ",t.units),c.a.createElement("p",null,"Premium service: ",t.isPremium?"yes":"no"))}),d=(a(18),function(e){var t=e.orders;return c.a.createElement("section",null,c.a.createElement("p",{className:"orders-title"},"RECENT ORDERS"),c.a.createElement("ul",{className:"orders-list"},t.map((function(e){return c.a.createElement(f,{key:e.id,data:e})}))))}),E=a(8),b=a.n(E),h=(a(19),function(e){var t=e.max,a=e.quantity,n=e.onChange;return c.a.createElement("div",{className:"quantity-selector-container"},c.a.createElement("p",null,a," product(s)"),c.a.createElement("input",{className:"quantity-selector",onChange:n,type:"range",min:1,max:t,step:1,value:a}))}),O=function(e,t){var a=t>1?function(e){return Math.floor(e)+.99}(e):e;return Number(a.toFixed(2))},j=function(e,t){var a=27.49*e;return O(t?a:a+15,e)},g=(a(20),function(e){var t=e.onProductDataChange,a=Object(n.useState)(!1),r=Object(m.a)(a,2),u=r[0],l=r[1],o=Object(n.useState)(Number((27.49+15).toFixed(2))),i=Object(m.a)(o,2),s=i[0],p=i[1],f=Object(n.useState)(1),d=Object(m.a)(f,2),E=d[0],g=d[1];Object(n.useEffect)((function(){var e=function(e,t){var a=.05*(e-1),n=j(e,!0)*(1-a);return O(t?n:n+15,e)}(E,u);p(e),t(e,E)}),[E,u]);var v=E>1&&c.a.createElement("s",null,"$",j(E,u)),N="Shipping: $".concat(u?"0":"15");return c.a.createElement("section",{className:"product-details"},c.a.createElement("p",{className:"product-brand"},"POI\u0112MA"),c.a.createElement("p",{className:"product-name"},"Multi-functional serum"),c.a.createElement("img",{alt:"product",className:"product-img",src:b.a}),c.a.createElement("span",{className:"product-price"},"$",27.49),c.a.createElement("p",{className:"product-discount"},"Get 5% discount for each additional product",c.a.createElement("br",null),"For 12 products shipping is free!"),c.a.createElement(h,{onChange:function(e){var t=Number(e.target.value);g(t),l(t>11)},quantity:E,max:12}),c.a.createElement("p",{className:"product-shipping"},N),c.a.createElement("span",null,c.a.createElement("b",null,"Total amount: $",s)," ",v))}),v=a(4),N=(a(21),{firstName:"",lastName:"",email:"",phone:"",street:"",city:"",country:""}),y=function(e){var t=e.onPurchaseClick,a=Object(n.useState)(N),r=Object(m.a)(a,2),u=r[0],o=r[1],p=Object(n.useState)(""),f=Object(m.a)(p,2),d=f[0],E=f[1];Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://ip-api.com/json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,o(Object(l.a)(Object(l.a)({},u),{},{country:a.country})),E(a.country);case 8:case"end":return e.stop()}}),e)})))()}),[]);var b=function(e){var t=e.target,a=t.value,n=t.name;o(Object(l.a)(Object(l.a)({},u),{},Object(v.a)({},n,a)))};return c.a.createElement("section",{className:"shipping-container"},c.a.createElement("form",{id:"shipping-form",className:"shipping-details",onSubmit:function(e){e.preventDefault(),e.target.checkValidity()&&(t(u),o(Object(l.a)(Object(l.a)({},N),{},{country:d})))}},c.a.createElement("p",{className:"checkout-title"},"CHECKOUT"),c.a.createElement("label",null,"First name:",c.a.createElement("input",{type:"text",name:"firstName",value:u.firstName,onChange:b,required:!0})),c.a.createElement("label",null,"Last name:",c.a.createElement("input",{type:"text",name:"lastName",value:u.lastName,onChange:b,required:!0})),c.a.createElement("label",null,"E-mail:",c.a.createElement("input",{type:"email",name:"email",value:u.email,onChange:b,required:!0})),c.a.createElement("label",null,"Phone:",c.a.createElement("input",{type:"tel",name:"phone",value:u.phone,onChange:b,required:!0})),c.a.createElement("label",null,"Street:",c.a.createElement("input",{type:"text",name:"street",value:u.street,onChange:b,required:!0})),c.a.createElement("label",null,"City:",c.a.createElement("input",{type:"text",name:"city",value:u.city,onChange:b,required:!0})),c.a.createElement("label",null,"Country:",c.a.createElement("input",{type:"text",name:"country",value:u.country,onChange:b,required:!0}))),c.a.createElement("button",{form:"shipping-form",className:"purchase-btn"},"PURCHASE"))},C=(a(22),function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],u=Object(n.useState)({}),o=Object(m.a)(u,2),f=o[0],E=o[1],b=Object(n.useState)(!1),h=Object(m.a)(b,2),O=h[0],j=h[1],v=function(e){return e.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}))};Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.jsonbin.io/b/5ecd438ca2a6e10f7bc644c3");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r(v(a));case 7:case"end":return e.stop()}}),e)})))()}),[]);return c.a.createElement("main",{className:"checkout-page"},c.a.createElement("section",{className:"checkout-info"},c.a.createElement(g,{onProductDataChange:function(e,t){E(Object(l.a)(Object(l.a)({},f),{},{totalAmount:e,units:t,isPremium:t>11}))}}),c.a.createElement(y,{onPurchaseClick:function(e){var t=Object(l.a)(Object(l.a)(Object(l.a)({},f),e),{},{id:String(Date.now()),createdAt:String(new Date)}),n=v([t].concat(a));E(t),r(n),j(!0)}})),c.a.createElement(d,{orders:a}),c.a.createElement(p,{confirmText:"OK",onClose:function(){j(!1)},showModal:O,text:"Purchase completed. See recent orders below."}))});u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null)),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.dc90a973.chunk.js.map